type Did @entity {
  id: ID!
  stashAccount: String! @index(unique: false)
  advertisementVisitRewards: [AdvertisementReward] @derivedFrom(field: "visitor")
  advertisementForwardRewards: [AdvertisementReward] @derivedFrom(field: "referer")
}

type AssetTransaction @entity {
  id: ID!
  stashAccount: String @index(unique: false)
  nftId: Nft @index(unique: false)
  timestampInSecond: Int!
  amount: BigInt!
}

type AdvertisementReward @entity {
  id: ID!
  advertisementId: Advertisement! @index(unique: false)
  nftId: Nft!
  visitor: Did! @index(unique: false)
  reward: BigInt!
  referer: Did!
  award: BigInt!
  timestampInSecond: Int!
}

type Nft @entity {
  id: ID!
  ownerDid: String! @index(unique: false)
}

type NftCurAdvertisement @entity {
  id: ID!
  nft: Nft!
  advertisement: Advertisement!
}

type Advertisement @entity {
  id: ID!
  budgetInAd3: Int!
  advertiser: Did!
  timestampInSecond: Int!
}

type Ad3Transaction @entity {
  id: ID!
  fromStashAccount: String! @index(unique: false)
  toStashAccount: String! @index(unique: false)
  amount: BigInt!
  timestampInSecond: Int!
}