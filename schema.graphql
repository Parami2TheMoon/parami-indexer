type Did @entity {
  id: ID!
  assetTransactions: [AssetTransaction] @derivedFrom(field: "did")
  advertisementRewards: [AdvertisementReward] @derivedFrom(field: "toDid")
}

type AssetTransaction @entity {
  id: ID!
  did: Did! @index(unique: false)
  nftId: Nft @index(unique: false)
  amount: Float!
}

type AdvertisementReward @entity {
  id: ID!
  advertisementId: Advertisement! @index(unique: false)
  nftId: Nft!
  visitor: Did! @index(unique: false)
  reward: Float!
  referer: Did!
  award: Float!
  timestampInSecond: Int!
}

type Nft @entity {
  id: ID!
  ownerDid: Did! @index(unique: true)
}

type NftCurAdvertisement @entity {
  id: ID!
  nft: Nft!
  advertisement: Advertisement!
}

type Advertisement @entity {
  id: ID!
  budgetInAd3: Int!
  nft: Nft!
  advertiser: Did!
}

type Ad3Transaction @entity {
  id: ID!
  fromDid: Did! @index(unique: false)
  toDid: Did! @index(unique: false)
  amount: Int!
}